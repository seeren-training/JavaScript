<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr">
  <head>
    <title>TD1: Consentement de cookie - Formation JavaScript Initiation</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="css/33d0c34f96e6afed4baa666fd7bfab67.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="css/f786f0fa752fdc2603a99d15b85cb5fd.css" media="all and (orientation: portrait)"/>
  </head>
  <body>
    <div class="chapitre-content" id="ch_17">
      <h2>
        <span>TD1:</span>
        <a>Consentement de cookie</a>
      </h2>
      <div class="content-box">
        <h4>Mise en situation</h4>
        <p>Les cookies sont omnipr&#xE9;sents pour d&#xE9;finir les pr&#xE9;f&#xE9;rences d'un utilisateur, calculer l'affluence, stocker des identifiants et sont souvent inh&#xE9;rents au bon fonctionnement d'un service. Les sites h&#xE9;berg&#xE9;s dans la communaut&#xE9; Europ&#xE9;enne ont l'obligation d'avertir les internautes de l'utilisation de cookies et d'obtenir leur consentement concernant leur utilisation pour certains cas.</p>
        <p>Les cookies peuvent &#xEA;tre transmis par le biais d'une r&#xE9;ponse HTTP &#xE0; un navigateur, mais JavaScript peut aussi enregistrer des cookies sur le poste d'un client et peut &#xE9;galement stocker localement pour une dur&#xE9;e illimit&#xE9;e en utilisant l'API HTML5 localStorage. Pour &#xEA;tre en conformit&#xE9; avec les directives concernant les cookies un module JavaScript est n&#xE9;cessaire pour afficher un consentement et enregistrer sa pr&#xE9;sence, ce module est le sujet de cet exercice.</p>
      </div>
      <div class="content-box">
        <strong>Analyse des besoins</strong>
        <p>Posons comme question quelles fonctionnalit&#xE9;s doit proposer le module pour r&#xE9;pondre &#xE0; nos besoins? Nous allons lister succinctement des possibilit&#xE9;s en vue de le cr&#xE9;er.</p>
      </div>
      <ul class="content-list">
        <li>Afficher un encart</li>
        <li>Afficher un texte d'avertissement</li>
        <li>Afficher un lien optionnel vers la politique de confidentialit&#xE9;</li>
        <li>Afficher un &#xE9;l&#xE9;ment interactif d'acceptation</li>
        <li>Stocker le consentement localement</li>
        <li>Ne rien afficher si le consentement est stock&#xE9;</li>
      </ul>
      <h3 id="c_27_exercice">Exercice</h3>
      <div class="content-box">
        <strong>Document</strong>
        <p>Nous allons utiliser un document HTML poss&#xE9;dant une balise meta pour le charset, un lien vers le script du module et un lien vers une feuille de style pour rendre l'exercice plus vivant.</p>
      </div>
      <div class="content-code">
        <strong>cookie-consent.html</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">&lt;!</span><span style="color: #ffffff">DOCTYPE&#xA0;html</span><span style="color: #ffcc00">&gt;
<br/>&lt;</span><span style="color: #ffffff">html</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">head</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">meta&#xA0;charset</span><span style="color: #ffcc00">=</span><span style="color: #2aa198">"UTF-8"</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">title</span><span style="color: #ffcc00">&gt;</span><span style="color: #ffffff">Cookie&#xA0;consent&#xA0;</span><span style="color: #ffcc00">-&#xA0;</span><span style="color: #ffffff">Formation&#xA0;JavaScript&#xA0;Initiation</span><span style="color: #ffcc00">&lt;/</span><span style="color: #ffffff">title</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">link&#xA0;rel</span><span style="color: #ffcc00">=</span><span style="color: #2aa198">"stylesheet"&#xA0;</span><span style="color: #ffffff">type</span><span style="color: #ffcc00">=</span><span style="color: #2aa198">"text/css"&#xA0;</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">=</span><span style="color: #2aa198">"cookie-consent.css"</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">script&#xA0;type</span><span style="color: #ffcc00">=</span><span style="color: #2aa198">"text/javascript"&#xA0;</span><span style="color: #ffffff">src</span><span style="color: #ffcc00">=</span><span style="color: #2aa198">"cookie-consent.js"</span><span style="color: #ffcc00">&gt;&lt;/</span><span style="color: #ffffff">script</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&lt;/</span><span style="color: #ffffff">head</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">body</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&lt;</span><span style="color: #ffffff">div</span><span style="color: #ffcc00">&gt;&lt;/</span><span style="color: #ffffff">div</span><span style="color: #ffcc00">&gt;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&lt;/</span><span style="color: #ffffff">body</span><span style="color: #ffcc00">&gt;
<br/>&lt;/</span><span style="color: #ffffff">html</span><span style="color: #ffcc00">&gt;</span>
</span>
</code>
      </div>
      <div class="content-box">
        <strong>CSS</strong>
        <p>La feuille de style est succincte et nous pr&#xE9;sente avec ses s&#xE9;lecteurs les n&#x153;uds de l'&#xE9;l&#xE9;ment g&#xE9;n&#xE9;r&#xE9; par le module.</p>
      </div>
      <div class="content-code">
        <strong>cookie-consent.css</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">@</span><span style="color: #ffffff">charset&#xA0;</span><span style="color: #2aa198">"UTF-8"</span><span style="color: #ffcc00">;
<br/></span><span style="color: #8c8c8c">#cookie-consent&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">background</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">rgba</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">50</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">160</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">255</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">.8</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">bottom</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">1em</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">font</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">family</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">arial</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">sans</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">serif</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">font</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">size</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">.8em</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">min</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">width</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">15</span><span style="color: #ffcc00">%;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">max</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">width</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">50</span><span style="color: #ffcc00">%;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">padding</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">.5em&#xA0;1em</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">position</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">fixed</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">right</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">1em</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">width</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">12em</span><span style="color: #ffcc00">;
<br/>}
<br/></span><span style="color: #8c8c8c">#cookie-consent&#xA0;.policy&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">margin</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">0</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">decoration</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">none</span><span style="color: #ffcc00">;
<br/>}
<br/></span><span style="color: #8c8c8c">#cookie-consent&#xA0;.policy,
<br/>#cookie-consent&#xA0;.accept:hover&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">color</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">rgb</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">242</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">242</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">242</span><span style="color: #ffcc00">);
<br/>}
<br/></span><span style="color: #8c8c8c">#cookie-consent&#xA0;.accept&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">background</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">rgb</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">242</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">242</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">242</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">color</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">rgb</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">33</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">33</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">33</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">cursor</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">pointer</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">display</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">block</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">margin</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">1em&#xA0;0&#xA0;.5em</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">padding</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">.25em</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">-</span><span style="color: #ffffff">align</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">center</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">transition</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">background&#xA0;.25s&#xA0;linear</span><span style="color: #ffcc00">;
<br/>}
<br/></span><span style="color: #8c8c8c">#cookie-consent&#xA0;.accept:hover&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">background</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #ffffff">rgb</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">0</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">122</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">230</span><span style="color: #ffcc00">);
<br/>}</span>
</span>
</code>
      </div>
      <div class="content-box">
        <h4>Script</h4>
        <p>Au vu de ses fonctionnalit&#xE9;s il semble que notre objet doit contenir au moins trois propri&#xE9;t&#xE9;s, une pour repr&#xE9;senter le texte de l'avertissement, une pour le lien vers la politique de confidentialit&#xE9;, une troisi&#xE8;me variable pour contenir l'identifiant du conteneur HTML. Pour initialiser le module et les propri&#xE9;t&#xE9;s de son interface nous pouvons utiliser une fonction avec trois param&#xE8;tres. Rajoutons deux contraintes importantes, le module doit d&#xE9;tecter si jQuery est pr&#xE9;sent et dans ce cas il sera affect&#xE9; entant que propri&#xE9;t&#xE9; de l'objet jQuery. L'autre contrainte est de ne pas utiliser d'objet statique comme un espace de nom, l'interface renvoy&#xE9;e par la m&#xE9;thode d&#x2019;initialisation doit &#xEA;tre une nouvelle interface cr&#xE9;er &#xE0; chaque appel de la fonction d'initialisation du module, cela permet de cr&#xE9;er diff&#xE9;rents pop-up de consentement. Ces choix nous permettent de repr&#xE9;senter son squelette.</p>
      </div>
      <div class="content-code">
        <strong>cookie-consent.js</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">(function&#xA0;(</span><span style="color: #ffffff">exports</span><span style="color: #ffcc00">)&#xA0;{
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">exports</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookieConsent&#xA0;</span><span style="color: #ffcc00">=&#xA0;function&#xA0;(</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">)&#xA0;{
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;(
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;function&#xA0;()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">text&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">href&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;).</span><span style="color: #ffffff">call</span><span style="color: #ffcc00">({
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #2aa198">""</span><span style="color: #ffcc00">,
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #2aa198">""</span><span style="color: #ffcc00">,
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #2aa198">""</span><span style="color: #ffcc00">,
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">render</span><span style="color: #ffcc00">:&#xA0;function&#xA0;()&#xA0;{
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},&#xA0;</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">);
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;};
<br/>
<br/>})(</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">jQuery&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">);</span>
</span>
</code>
      </div>
      <div class="content-box">
        <strong>Cr&#xE9;er les &#xE9;l&#xE9;ments</strong>
        <p>Le module a la responsabilit&#xE9; d'afficher des &#xE9;l&#xE9;ments HTML, un conteneur, le texte de consentement, un lien optionnel vers la politique de confidentialit&#xE9; et un lien pour accepter la politique. Le module peut impl&#xE9;menter une fonction qui cr&#xE9;&#xE9; ces &#xE9;l&#xE9;ments et retourne l'&#xE9;l&#xE9;ment parent en vue de le manipuler par la suite pour ajouter des &#xE9;couteurs sur ses n&#x153;uds notamment.</p>
      </div>
      <div class="content-code">
        <strong>Fonction create</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">create</span><span style="color: #ffcc00">()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">container&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">createElement</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"p"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">policy&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">createElement</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"a"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">accept&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">createElement</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"a"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"id"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"class"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #2aa198">"policy"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"class"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #2aa198">"accept"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"href"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">innerHTML&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">innerHTML&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #2aa198">"Ok"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">appendChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">appendChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">;
<br/>}</span>
</span>
</code>
      </div>
      <div class="content-box">
        <strong>Stocker le consentement</strong>
        <p>Si le visiteur accepte la politique de confidentialit&#xE9; concernant l'utilisation des cookies, le script doit stocker son accord pour ne plus s'afficher par la suite en v&#xE9;rifiant sa pr&#xE9;sence.</p>
        <p>Nous pouvons utiliser l'objet localStorage de window et sa m&#xE9;thode setItem pour stocker sans date d'expiration pour le domaine associ&#xE9;, mais cette API n'est pas disponible sur des vieilles versions de navigateurs. En compl&#xE9;ment nous pouvons aussi d&#xE9;tecter sa pr&#xE9;sence et utiliser les cookies si localStorage n'est pas disponible. Pour formater la date d'expiration d'un cookie nous pouvons utiliser l'objet Date et sa m&#xE9;thode toUTCString.</p>
        <p>Le module peut impl&#xE9;menter une fonction qui a la responsabilit&#xE9; de stocker le consentement et de supprimer le pop-up de consentement du DOM.</p>
      </div>
      <div class="content-code">
        <strong>Fonction accept</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">removeChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setItem</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #2aa198">"1"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">date&#xA0;</span><span style="color: #ffcc00">=&#xA0;new&#xA0;</span><span style="color: #ffffff">Date</span><span style="color: #ffcc00">();
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">date</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setTime</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">date</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getTime</span><span style="color: #ffcc00">()&#xA0;+&#xA0;(</span><span style="color: #ffffff">100&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">24&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">60&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">60&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">1000</span><span style="color: #ffcc00">));
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookie&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #2aa198">"=1;&#xA0;expires="
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #ffffff">date</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">toUTCString</span><span style="color: #ffcc00">()&#xA0;+&#xA0;</span><span style="color: #2aa198">";&#xA0;path=/"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>}</span>
</span>
</code>
      </div>
      <div class="content-box">
        <strong>V&#xE9;rifier le consentement</strong>
        <p>Le module doit v&#xE9;rifier si le visiteur a accept&#xE9; l'utilisation des cookies. Il faut v&#xE9;rifier si le consentement est pr&#xE9;sent soit avec localStorage soit avec les cookie car la fonction responsable du stockage utilise l'un ou l'autre. Pour v&#xE9;rifier la valeur d'un cookie il faut analyser l'int&#xE9;gralit&#xE9; de la chaine de caract&#xE8;res renvoy&#xE9;e par la propri&#xE9;t&#xE9; cookie de document. Le module peut impl&#xE9;menter une fonction responsable de v&#xE9;rifier la pr&#xE9;sence du consentement en renvoyant true ou false.</p>
      </div>
      <div class="content-code">
        <strong>Fonction accepted</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">accepted</span><span style="color: #ffcc00">()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getItem</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">)&#xA0;===&#xA0;</span><span style="color: #2aa198">"1"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">cookie&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookie</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">split</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">';'</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">length&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">cookie</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">length</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">pattern&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #2aa198">"=1"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;for&#xA0;(var&#xA0;</span><span style="color: #ffffff">i&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">0&#xA0;</span><span style="color: #ffcc00">;&#xA0;</span><span style="color: #ffffff">i&#xA0;</span><span style="color: #ffcc00">&lt;&#xA0;</span><span style="color: #ffffff">length</span><span style="color: #ffcc00">;&#xA0;</span><span style="color: #ffffff">i</span><span style="color: #ffcc00">++)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">pattern&#xA0;</span><span style="color: #ffcc00">===&#xA0;</span><span style="color: #ffffff">cookie</span><span style="color: #ffcc00">[</span><span style="color: #ffffff">i</span><span style="color: #ffcc00">])&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">true</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">false</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>}</span>
</span>
</code>
      </div>
      <div class="content-box">
        <strong>Int&#xE9;grer au document</strong>
        <p>Pour invoquer les fonctions impl&#xE9;ment&#xE9;es et int&#xE9;grer l'&#xE9;l&#xE9;ment renvoy&#xE9; par la fonction create &#xE0; un parent la fonction consent peut &#xEA;tre impl&#xE9;ment&#xE9;e.</p>
      </div>
      <div class="content-code">
        <strong>Fonction consent</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">consent</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">parent&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">parent&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">body</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;((</span><span style="color: #ffffff">container&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getElementById</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">)))&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">removeChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">create</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">call</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">appendChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">lastChild</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">onclick&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">;
<br/>}</span>
</span>
</code>
      </div>
      <div class="content-box">
        <p>Il faut noter que si localStorage n'est pas disponible et que le consentement est stock&#xE9; dans les cookies, le script doit &#xEA;tre rattach&#xE9; &#xE0; une page qui utilise le protocol HTTP soit sur une page h&#xE9;berg&#xE9;e sur un serveur local ou distant. Les cookies sont envoy&#xE9;s par la requ&#xEA;te puis r&#xE9;affect&#xE9;s au navigateur suite &#xE0; la r&#xE9;ponse d'un serveur, sur un page off line le module ne fonctionnera pas correctement s'il utilise les cookies.</p>
        <p>Cet exercice aura utilis&#xE9; la modification du DOM, un &#xE9;v&#xE8;nement et aura introduit le stockage sur un navigateur. La port&#xE9;e des variables et fonctions, les objets litt&#xE9;raux auront aussi &#xE9;t&#xE9; les th&#xE8;mes utilis&#xE9;s pour cr&#xE9;er ce module. Il suffit de le documenter et de le tester pour pouvoir l'utiliser et se mettre en conformit&#xE9; avec la l&#xE9;gislation Europ&#xE9;enne.</p>
      </div>
      <h3 id="c_27_correction">Correction</h3>
      <div class="content-box">
        <p>Le module a &#xE9;t&#xE9; d&#xE9;taill&#xE9; pr&#xE9;alablement hormis sa m&#xE9;thode de rendu qui est &#xE0; compl&#xE9;ter. Pour utiliser le module il faut soit invoquer son identifiant avec les param&#xE8;tres attendus soit stocker une r&#xE9;f&#xE9;rence &#xE0; l'objet renvoy&#xE9; pour modifier ses propri&#xE9;t&#xE9;s La correction montre un exemple de son utilisation.</p>
      </div>
      <div class="content-code">
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">onload&#xA0;</span><span style="color: #ffcc00">=&#xA0;function&#xA0;()&#xA0;{
<br/>
<br/>var&#xA0;</span><span style="color: #ffffff">cookieconsent&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookieConsent</span><span style="color: #ffcc00">();
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">cookieconsent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #2aa198">"cookie-consent"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">cookieconsent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #2aa198">"En&#xA0;continuant&#xA0;votre&#xA0;navigation&#xA0;sur&#xA0;ce&#xA0;site,&#xA0;vous&#xA0;"
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #2aa198">"acceptez&#xA0;l'utilisation&#xA0;des&#xA0;cookies&#xA0;afin&#xA0;d'assurer&#xA0;"
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #2aa198">"le&#xA0;bon&#xA0;d&#xE9;roulement&#xA0;de&#xA0;votre&#xA0;visite."</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">cookieconsent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">render</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getElementsByTagName</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"div"</span><span style="color: #ffcc00">)[</span><span style="color: #ffffff">0</span><span style="color: #ffcc00">]);
<br/>
<br/>};</span>
</span>
</code>
      </div>
      <div class="content-code">
        <strong>cookieConsent</strong>
        <code><span style="color: #ffffff">
<span style="color: #ffffff">
</span><span style="color: #ffcc00">(function&#xA0;(</span><span style="color: #ffffff">exports</span><span style="color: #ffcc00">)&#xA0;{
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;Enregistre&#xA0;le&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@function&#xA0;accept
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@access&#xA0;private
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">removeChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setItem</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #2aa198">"1"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">date&#xA0;</span><span style="color: #ffcc00">=&#xA0;new&#xA0;</span><span style="color: #ffffff">Date</span><span style="color: #ffcc00">();
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">date</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setTime</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">date</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getTime</span><span style="color: #ffcc00">()&#xA0;+&#xA0;(</span><span style="color: #ffffff">100&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">24&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">60&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">60&#xA0;</span><span style="color: #ffcc00">*&#xA0;</span><span style="color: #ffffff">1000</span><span style="color: #ffcc00">));
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookie&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">parentNode</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #2aa198">"=1;&#xA0;expires="
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #ffffff">date</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">toUTCString</span><span style="color: #ffcc00">()&#xA0;+&#xA0;</span><span style="color: #2aa198">";&#xA0;path=/"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;V&#xE9;rifie&#xA0;si&#xA0;le&#xA0;consentement&#xA0;est&#xA0;enregistr&#xE9;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@function&#xA0;accepted
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@access&#xA0;private
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@returns&#xA0;{boolean}&#xA0;Consentement&#xA0;enregistr&#xE9;&#xA0;ou&#xA0;non
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">accepted</span><span style="color: #ffcc00">()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">localStorage</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getItem</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">)&#xA0;===&#xA0;</span><span style="color: #2aa198">"1"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;else&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">cookie&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookie</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">split</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">';'</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">length&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">cookie</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">length</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">pattern&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">+&#xA0;</span><span style="color: #2aa198">"=1"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;for&#xA0;(var&#xA0;</span><span style="color: #ffffff">i&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">0&#xA0;</span><span style="color: #ffcc00">;&#xA0;</span><span style="color: #ffffff">i&#xA0;</span><span style="color: #ffcc00">&lt;&#xA0;</span><span style="color: #ffffff">length</span><span style="color: #ffcc00">;&#xA0;</span><span style="color: #ffffff">i</span><span style="color: #ffcc00">++)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">pattern&#xA0;</span><span style="color: #ffcc00">===&#xA0;</span><span style="color: #ffffff">cookie</span><span style="color: #ffcc00">[</span><span style="color: #ffffff">i</span><span style="color: #ffcc00">])&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">true</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">false</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;Cr&#xE9;e&#xA0;le&#xA0;conteneur
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@function&#xA0;create
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@access&#xA0;private
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@returns&#xA0;{Object}&#xA0;HTML&#xA0;Element
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">create</span><span style="color: #ffcc00">()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">container&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">createElement</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"p"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">policy&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">createElement</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"a"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">accept&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">createElement</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"a"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"id"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"class"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #2aa198">"policy"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"class"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #2aa198">"accept"</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">setAttribute</span><span style="color: #ffcc00">(</span><span style="color: #2aa198">"href"</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">innerHTML&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">innerHTML&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #2aa198">"Ok"</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">appendChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">policy</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">appendChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;Cr&#xE9;e&#xA0;le&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@function&#xA0;consent
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@access&#xA0;private
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@param&#xA0;{Object}&#xA0;parent&#xA0;HTML&#xA0;Element
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@returns&#xA0;{Object}&#xA0;HTML&#xA0;Element
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">function&#xA0;</span><span style="color: #ffffff">consent</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">parent&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">parent&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">body</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;var&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;if&#xA0;((</span><span style="color: #ffffff">container&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">document</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">getElementById</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">)))&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">removeChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">create</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">call</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">appendChild</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">);
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">lastChild</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">onclick&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">accept</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">container</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;Cr&#xE9;e&#xA0;une&#xA0;nouvelle&#xA0;interface&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@exports&#xA0;cookie/consent
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@param&#xA0;{string}&#xA0;id&#xA0;Identifiant&#xA0;du&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@param&#xA0;{string}&#xA0;text&#xA0;Lien&#xA0;vers&#xA0;les&#xA0;mentions
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@param&#xA0;{string}&#xA0;href&#xA0;Texte&#xA0;du&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@returns&#xA0;{Object}&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/
<br/>&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">exports</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">cookieConsent&#xA0;</span><span style="color: #ffcc00">=&#xA0;function&#xA0;(</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">)&#xA0;{
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;(
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@returns&#xA0;{Object}&#xA0;Namespace
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">function&#xA0;()&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">id&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">text&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href&#xA0;</span><span style="color: #ffcc00">=&#xA0;</span><span style="color: #ffffff">href&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;).</span><span style="color: #ffffff">call</span><span style="color: #ffcc00">(
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@name&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@namespace
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">{
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@memberof&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@var&#xA0;{string}&#xA0;id&#xA0;Identifiant&#xA0;du&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #2aa198">""</span><span style="color: #ffcc00">,
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@memberof&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@var&#xA0;{string}&#xA0;href&#xA0;Lien&#xA0;vers&#xA0;les&#xA0;mentions
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">href</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #2aa198">""</span><span style="color: #ffcc00">,
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@memberof&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@var&#xA0;{string}&#xA0;text&#xA0;Texte&#xA0;du&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">:&#xA0;</span><span style="color: #2aa198">""</span><span style="color: #ffcc00">,
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #8c8c8c">/**
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;Affiche&#xA0;le&#xA0;consentement
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@memberof&#xA0;cookieConsentInterface
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@param&#xA0;{Object}&#xA0;parent&#xA0;HTML&#xA0;Element
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*&#xA0;@returns&#xA0;{Object|false}&#xA0;HTML&#xA0;Element&#xA0;ou&#xA0;faux
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*/&#xA0;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffffff">render</span><span style="color: #ffcc00">:&#xA0;function&#xA0;(</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">)&#xA0;{
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;return&#xA0;!</span><span style="color: #ffffff">accepted</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">call</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">)
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;?&#xA0;</span><span style="color: #ffffff">consent</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">call</span><span style="color: #ffcc00">(</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">parent</span><span style="color: #ffcc00">)
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;:&#xA0;</span><span style="color: #ffffff">false</span><span style="color: #ffcc00">;
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;},&#xA0;</span><span style="color: #ffffff">id</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">text</span><span style="color: #ffcc00">,&#xA0;</span><span style="color: #ffffff">href
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;</span><span style="color: #ffcc00">);
<br/>
<br/>&#xA0;&#xA0;&#xA0;&#xA0;};
<br/>
<br/>})(</span><span style="color: #ffffff">window</span><span style="color: #ffcc00">.</span><span style="color: #ffffff">jQuery&#xA0;</span><span style="color: #ffcc00">||&#xA0;</span><span style="color: #ffffff">this</span><span style="color: #ffcc00">)</span>
</span>
</code>
      </div>
      <div class="content-box">
        <p>Le module affiche comme voulu un encart avertissant de l'utilisation de cookies, en cliquant sur Ok le module est supprim&#xE9; et n'appara&#xEE;t plus lors du rechargement de la page. Pour le pr&#xE9;visualiser &#xE0; nouveau il faut supprimer la valeur enregistr&#xE9;e soit dans localStorage soit dans le cookie ou vider l'historique du navigateur.</p>
      </div>
    </div>
  </body>
</html>